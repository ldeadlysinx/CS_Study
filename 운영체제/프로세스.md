# 프로세스
정의 : 메모리에 적재되고 실행되는 프로그램을 프로세스라고 한다.

 - 포그라운드 프로세스
 사용자가 볼 수 있는 공간에서 실행된는 프로세스 
 - 백그라운드 프로세스
사용자가 볼 수 없는 공간에서 실행되는 프로세스(ex. 데몬, 서비스 등)


**프로세스 제어 블록(PCB)**
 
 개요) 프로세스들은 돌아가며 한정된 시간 만큼만 CPU를 이용
 - 자신의 차례에 정해진 시간만큼 CPU 이용
 - 타이머 인터럽트가 발생하면 차례 양보

정의) 빠르게 번갈아 수행되는 프로세스들을 관리하기 위해 커널영역에서 
          사용되는 자료구조

 PCB에 담기는 대표적인 정보
 - 프로세스 ID(PID) :  특정 프로세스를 식별하기 위해서 쓰는 값
 - 레지스터 : 이전까지 사용했던 레지스타의 중간값들을 모두 복원
 - CPU 스케줄링 정보 : 프로세스가 언제 어떤 순서로 CPU를 할당받을지에 대한 정보도 PCB 에 기록된다
 - 메모리 정보: 프로세스가 어느 주소에 저장되어 있는지에 대한 정보
 - 사용한 파일과 입출력장치 정보
 
 결론) 운영체제는 커널 영역에 적재된 PCB를 보고 프로세스를 관리한다  

**문맥교환**

정의) 기존의 실행 중인 프로세스 문맥을 백업하고 새로운 프로세스 실행을 위
          해 복구하는 과정 


**프로세스의 메모리 영역**
 - 코드영역 : 기계어로 이루어진 명령어(CPU가 실행할 명령어) 저장(쓰기 금지)
 - 데이터영역 :  프로그램 실행중에 저장되는 데이터 영역(전역변수) 
 - 힙영역: 프로그래머가 직접 할당할 수 있는 저장공간
 - 스택영역 : 데이터가 일시적으로 저장되는 공간(매개변수, 지역 변수)
    
 힙영역과 스택 영역은 메모리의 크기가 변경될수 있으므로 동적 할당 영역이라고 한다.
 나머지는 정적할당영역
    

**프로세스 상태**
 - 생성 상태: 이제 막 메모리에 적재되어 PCB를 할당 받은 상태
 - 준비 상태: CPU를 할당 받아 실행할 수 있는 상태 자신의 차례가 아니므로 대기
 - 실행 상태: CPU를 할당 받아 실행중인 상태
 - 대기 상태: 프로세스가 실행 도중 입출력장치를 사용하는 경우, 입출력 상태가 끝나면 준비상 태로 간다
 - 종료 상태:프로세스가 종료된 상태

**프로세스 계층 구조**
부모 프레세스: 새 프로세스를 생성한 프로세스
자식 프로세스: 부모 프로세스에 의해 생성된 프로세스

**프로세스 생성 기법**
 - 부모 프로세스는 fork 시스템 호출을 통해 자신의 복사본을 자식 프로세스로 생성
 - 자식 프로세스는 exec 시스템 호출을 통해 자신의 메모리 공간을 다른 프로그램으로 교체
  
fork 시스템 호출
- 복사본 생성
- 부모 프로세스의 자원 상속

exec 시스템 호출
- 메모리 공간을 새로운 프로그램으로 덮어쓰기
- 코드 데이터 영역을 실행할 프로그램 내용으로 바뀌고 나머지 영역은 초기화
   
